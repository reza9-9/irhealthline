<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ù‚Ø§Ù„Ø§Øª Ù¾Ø²Ø´Ú©ÛŒ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ - IRHealthLine</title>
    <style>
        body { font-family: Tahoma; background: #f0f8ff; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .header { background: linear-gradient(135deg, #2c5aa0, #1e3a8a); color: white; padding: 30px; border-radius: 10px; margin-bottom: 30px; text-align: center; }
        .article { background: #f8f9fa; padding: 25px; margin: 20px 0; border-radius: 10px; border-right: 5px solid #2c5aa0; }
        .article-title { color: #2c5aa0; font-size: 1.4em; margin-bottom: 15px; }
        .article-meta { background: #e3f2fd; padding: 10px 15px; border-radius: 8px; margin-bottom: 15px; font-size: 0.9em; }
        .article-content { line-height: 1.8; color: #333; font-size: 1.1em; }
        .category { background: #2c5aa0; color: white; padding: 3px 12px; border-radius: 20px; font-size: 0.8em; }
        .last-update { text-align: center; color: #666; margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¥ Ù…Ù‚Ø§Ù„Ø§Øª Ù¾Ø²Ø´Ú©ÛŒ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡</h1>
            <p>Ù…Ù‚Ø§Ù„Ø§Øª Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø³ÛŒØ³ØªÙ… Ù‡ÙˆØ´Ù…Ù†Ø¯ IRHealthLine</p>
            <p style="opacity: 0.9; font-size: 0.9em;">Ø¢Ù¾Ø¯ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡ - Ø³Ø§Ø¹Øª Û¸ ØµØ¨Ø­</p>
        </div>

        <div id="articlesList">
            <!-- Ù…Ù‚Ø§Ù„Ø§Øª Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            <div style="text-align: center; padding: 40px; color: #666;">
                <p>ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ù‚Ø§Ù„Ø§Øª Ù¾Ø²Ø´Ú©ÛŒ...</p>
            </div>
        </div>

        <div class="last-update">
            Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: <span id="updateTime">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</span>
        </div>
    </div>

    <script>
        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù…Ù‚Ø§Ù„Ø§Øª
        async function loadMedicalArticles() {
            try {
                console.log('ğŸ” Ø¯Ø± Ø­Ø§Ù„ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¢Ø®Ø±ÛŒÙ† Ù…Ù‚Ø§Ù„Ø§Øª...');
                
                // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¢Ø®Ø±ÛŒÙ† ÙØ§ÛŒÙ„ Ù…Ù‚Ø§Ù„Ø§Øª Ø§Ø² GitHub
                const response = await fetch('https://api.github.com/repos/reza9-9/irhealthline/contents/');
                const files = await response.json();
                
                // ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ù‚Ø§Ù„Ø§Øª
                const articleFiles = files.filter(file => 
                    file.name.startsWith('auto_articles_') && file.name.endsWith('.json')
                ).sort((a, b) => b.name.localeCompare(a.name));
                
                if (articleFiles.length === 0) {
                    document.getElementById('articlesList').innerHTML = 
                        '<div style="text-align: center; padding: 40px; color: #666;">ğŸ“­ Ù‡Ù†ÙˆØ² Ù…Ù‚Ø§Ù„Ù‡â€ŒØ§ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</div>';
                    return;
                }
                
                // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ø®Ø±ÛŒÙ† ÙØ§ÛŒÙ„ Ù…Ù‚Ø§Ù„Ø§Øª
                const latestFile = articleFiles[0];
                console.log('ğŸ“„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„:', latestFile.name);
                
                const articleResponse = await fetch(latestFile.download_url);
                const data = await articleResponse.json();
                
                // Ù†Ù…Ø§ÛŒØ´ Ù…Ù‚Ø§Ù„Ø§Øª
                displayArticles(data.articles);
                
                // Ù†Ù…Ø§ÛŒØ´ ØªØ§Ø±ÛŒØ® Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ
                document.getElementById('updateTime').textContent = 
                    new Date().toLocaleString('fa-IR');
                    
                console.log('âœ… Ù…Ù‚Ø§Ù„Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù†Ø¯');
                
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ù‚Ø§Ù„Ø§Øª:', error);
                document.getElementById('articlesList').innerHTML = 
                    '<div style="text-align: center; padding: 40px; color: red;">' +
                    'âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ù‚Ø§Ù„Ø§Øª. Ù„Ø·ÙØ§Ù‹ ØµÙØ­Ù‡ Ø±Ø§ Ø±ÙØ±Ø´ Ú©Ù†ÛŒØ¯.' +
                    '</div>';
            }
        }
        
        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù…Ù‚Ø§Ù„Ø§Øª
        function displayArticles(articles) {
            const container = document.getElementById('articlesList');
            
            if (!articles || articles.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px; color: #666;">ğŸ“­ Ù…Ù‚Ø§Ù„Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</div>';
                return;
            }
            
            let articlesHTML = '';
            
            articles.forEach((article, index) => {
                articlesHTML += `
                    <div class="article">
                        <div class="article-title">${article.title}</div>
                        <div class="article-meta">
                            <strong>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</strong> <span class="category">${article.category}</span> | 
                            <strong>Ø²Ù…Ø§Ù† Ù…Ø·Ø§Ù„Ø¹Ù‡:</strong> ${article.reading_time} | 
                            <strong>ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„Ù…Ø§Øª:</strong> ${article.word_count} | 
                            <strong>Ú©ÛŒÙÛŒØª:</strong> ${article.quality_score}/10
                        </div>
                        <div class="article-content">
                            ${article.content}
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = articlesHTML;
        }
        
        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ù‚Ø§Ù„Ø§Øª Ù‡Ù†Ú¯Ø§Ù… Ù„ÙˆØ¯ ØµÙØ­Ù‡
        document.addEventListener('DOMContentLoaded', loadMedicalArticles);
        
        // Ø±ÙØ±Ø´ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡Ø± Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡
        setInterval(loadMedicalArticles, 5 * 60 * 1000);
    </script>
</body>
</html>
